<?xml version="1.0" encoding="utf-8"?>

<Page
	x:Class="CheckoutStuff.Pages.Admin.ProductEditPage"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:local="using:CheckoutStuff.Pages.Admin"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:config="using:CheckoutStuff.Configuration"
	mc:Ignorable="d">

	<Grid ColumnDefinitions="2*,3*" Padding="12">
		<Grid RowDefinitions="Auto,*,Auto" Margin="0,0,12,0">
			<TextBlock Text="Produkty" FontSize="20" FontWeight="SemiBold" Margin="0,0,0,8" />

			<ItemsView Grid.Row="1" SelectionMode="Single" IsItemInvokedEnabled="True"
			           ItemInvoked="ProductList_OnItemInvoked" ItemsSource="{x:Bind viewModel.Products, Mode=OneWay}">
				<ItemsView.ItemTemplate>
					<DataTemplate x:DataType="config:Product">
						<ItemContainer>
							<StackPanel Orientation="Horizontal" Spacing="12">
								<Image Source="{x:Bind Image}" Width="48" Height="48" />
								<StackPanel>
									<TextBlock Text="{x:Bind Name}" FontSize="16" />
									<TextBlock Text="{x:Bind StrPrice}" FontSize="12" Foreground="Gray" />
								</StackPanel>
							</StackPanel>
						</ItemContainer>
					</DataTemplate>
				</ItemsView.ItemTemplate>
			</ItemsView>

			<StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Left" Spacing="8" Margin="0,8,0,0">
				<DropDownButton Content="Nowe">
					<DropDownButton.Flyout>
						<MenuFlyout x:Name="menuFlyout" />
					</DropDownButton.Flyout>
				</DropDownButton>
				<Button Content="Usuń" Command="{x:Bind viewModel.DeleteCommand}" />
				<Button Content="Zapisz" Command="{x:Bind viewModel.SaveCommand}" />
				<Button Content="Otwórz folder ze zdjęciami" Click="OpenFolderButton_OnClick" />
			</StackPanel>
		</Grid>

		<StackPanel Grid.Column="1">
			<TextBlock Text="Szczegóły Produktu" FontSize="20" FontWeight="SemiBold" Margin="0,0,0,8" />
			<StackPanel Orientation="Horizontal" Spacing="12" Margin="0,6">
				<Image Source="{x:Bind viewModel.SelectedProduct.Image, Mode=TwoWay}" Width="128" Height="128" />
				<StackPanel>
					<TextBlock Text="Nazwa" Margin="0,0,0,4" />
					<TextBox Text="{x:Bind viewModel.SelectedProduct.Name, Mode=TwoWay}" Width="300" />

					<TextBlock Text="Cena" Margin="0,12,0,4" />
					<NumberBox x:Name="FormattedNumberBox" Value="{x:Bind viewModel.SelectedProduct.Price, Mode=TwoWay}" Width="300" />

					<TextBlock Text="Plik zdjęcia" Margin="0,12,0,4" />
					<TextBox Text="{x:Bind viewModel.SelectedProduct.ImageName, Mode=TwoWay}" Width="300" />
				</StackPanel>
			</StackPanel>
		</StackPanel>
	</Grid>
</Page>